{% extends "base.html" %}

{% block title %}{{ bundle.title }} - Channel 3{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto">
    <div class="bg-white rounded-lg shadow-lg overflow-hidden mb-8">
        <div class="p-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-4">{{ bundle.title }}</h1>
            <p class="text-gray-600 leading-relaxed mb-6">{{ bundle.description or 'Bundle collection' }}</p>
            <p class="text-gray-500 text-sm">Contains {{ bundle.products|length }} products</p>
        </div>
    </div>

    {% if bundle.products %}
    <div class="product-grid">
        {% for product in bundle.products %}
        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden">
            <a href="/api/public/product/{{ product.slug }}/page">
                <div class="aspect-square bg-gray-100">
                    <img src="{{ product.image_url or 'https://picsum.photos/seed/' + product.slug + '/800/800' }}" 
                         alt="{{ product.title }}" 
                         class="w-full h-full object-cover">
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-gray-800 mb-2">{{ product.title }}</h3>
                    <p class="text-gray-600 text-sm line-clamp-2">{{ product.description or 'No description available' }}</p>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="text-center py-16 bg-white rounded-lg shadow-md">
        <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
        </svg>
        <h3 class="mt-2 text-sm font-medium text-gray-900">No products in this bundle</h3>
        <p class="mt-1 text-sm text-gray-500">This bundle doesn't contain any products yet.</p>
    </div>
    {% endif %}

    <div class="mt-8 text-center">
        <a href="/api/public/feed" class="text-indigo-600 hover:text-indigo-800 text-sm">
            ‚Üê Back to all bundles
        </a>
    </div>
</div>

<div class="mt-8 text-center">
    <p class="text-gray-500 text-sm">Share this bundle: 
        <span class="font-mono text-indigo-600 bg-indigo-50 px-2 py-1 rounded">
            {{ request.base_url }}api/public/bundle/{{ bundle.slug }}/page
        </span>
    </p>
</div>
{% endblock %}
